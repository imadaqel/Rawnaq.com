[{"D:\\Second Phase RBK\\Week 9\\New folder\\Rawnaq.com\\shoppingPro\\shopping-react\\src\\index.js":"1","D:\\Second Phase RBK\\Week 9\\New folder\\Rawnaq.com\\shoppingPro\\shopping-react\\src\\components\\App.js":"2","D:\\Second Phase RBK\\Week 9\\New folder\\Rawnaq.com\\shoppingPro\\shopping-react\\src\\reportWebVitals.js":"3","D:\\Second Phase RBK\\Week 9\\New folder\\Rawnaq.com\\shoppingPro\\shopping-react\\src\\components\\SignUpContainer.js":"4","D:\\Second Phase RBK\\Week 9\\New folder\\Rawnaq.com\\shoppingPro\\shopping-react\\src\\components\\SignUpForm.js":"5"},{"size":528,"mtime":1607004398757,"results":"6","hashOfConfig":"7"},{"size":364,"mtime":1607003350441,"results":"8","hashOfConfig":"7"},{"size":375,"mtime":1606916113420,"results":"9","hashOfConfig":"7"},{"size":4101,"mtime":1607003954576,"results":"10","hashOfConfig":"7"},{"size":2758,"mtime":1607003216770,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"57yb5l",{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},"D:\\Second Phase RBK\\Week 9\\New folder\\Rawnaq.com\\shoppingPro\\shopping-react\\src\\index.js",[],"D:\\Second Phase RBK\\Week 9\\New folder\\Rawnaq.com\\shoppingPro\\shopping-react\\src\\components\\App.js",[],["25","26"],"D:\\Second Phase RBK\\Week 9\\New folder\\Rawnaq.com\\shoppingPro\\shopping-react\\src\\reportWebVitals.js",[],"D:\\Second Phase RBK\\Week 9\\New folder\\Rawnaq.com\\shoppingPro\\shopping-react\\src\\components\\SignUpContainer.js",["27"],"import React, { Component } from \"react\";\r\nimport SignUpForm from \"./SignUpForm.js\";\r\nconst axios = require(\"axios\");\r\n//const FormValidators = require(\"./validate\");\r\nconst validateSignUpForm = FormValidators.validateSignUpForm;\r\nconst zxcvbn = require(\"zxcvbn\");\r\n\r\nclass SignUpContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            errors: {},\r\n            user: {\r\n                username: \"\",\r\n                email: \"\",\r\n                password: \"\",\r\n                pwconfirm: \"\"\r\n            },\r\n            btnTxt: \"show\",\r\n            type: \"password\",\r\n            score: \"0\"\r\n        };\r\n\r\n        this.pwMask = this.pwMask.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.submitSignup = this.submitSignup.bind(this);\r\n        this.validateForm = this.validateForm.bind(this);\r\n        this.pwHandleChange = this.pwHandleChange.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        const field = event.target.name;\r\n        const user = this.state.user;\r\n        user[field] = event.target.value;\r\n\r\n        this.setState({\r\n            user\r\n        });\r\n    }\r\n\r\n    pwHandleChange(event) {\r\n        const field = event.target.name;\r\n        const user = this.state.user;\r\n        user[field] = event.target.value;\r\n\r\n        this.setState({\r\n            user\r\n        });\r\n\r\n        if (event.target.value === \"\") {\r\n            this.setState(state =>\r\n                Object.assign({}, state, {\r\n                    score: \"null\"\r\n                })\r\n            );\r\n        } else {\r\n            var pw = zxcvbn(event.target.value);\r\n            this.setState(state =>\r\n                Object.assign({}, state, {\r\n                    score: pw.score + 1\r\n                })\r\n            );\r\n        }\r\n    }\r\n\r\n    submitSignup(user) {\r\n        var params = { username: user.usr, password: user.pw, email: user.email };\r\n        axios\r\n            .post(\"https://ouramazingserver.com/api/signup/submit\", params)\r\n            .then(res => {\r\n                if (res.data.success === true) {\r\n                    localStorage.token = res.data.token;\r\n                    localStorage.isAuthenticated = true;\r\n                    window.location.reload();\r\n                } else {\r\n                    this.setState({\r\n                        errors: { message: res.data.message }\r\n                    });\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Sign up data submit error: \", err);\r\n            });\r\n    }\r\n\r\n    validateForm(event) {\r\n        event.preventDefault();\r\n        var payload = validateSignUpForm(this.state.user);\r\n        if (payload.success) {\r\n            this.setState({\r\n                errors: {}\r\n            });\r\n            var user = {\r\n                usr: this.state.user.username,\r\n                pw: this.state.user.password,\r\n                email: this.state.user.email\r\n            };\r\n            this.submitSignup(user);\r\n        } else {\r\n            const errors = payload.errors;\r\n            this.setState({\r\n                errors\r\n            });\r\n        }\r\n    }\r\n\r\n    pwMask(event) {\r\n        event.preventDefault();\r\n        this.setState(state =>\r\n            Object.assign({}, state, {\r\n                type: this.state.type === \"password\" ? \"input\" : \"password\",\r\n                btnTxt: this.state.btnTxt === \"show\" ? \"hide\" : \"show\"\r\n            })\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <SignUpForm\r\n                    onSubmit={this.validateForm}\r\n                    onChange={this.handleChange}\r\n                    onPwChange={this.pwHandleChange}\r\n                    errors={this.state.errors}\r\n                    user={this.state.user}\r\n                    score={this.state.score}\r\n                    btnTxt={this.state.btnTxt}\r\n                    type={this.state.type}\r\n                    pwMask={this.pwMask}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nmodule.exports = SignUpContainer;\r\n","D:\\Second Phase RBK\\Week 9\\New folder\\Rawnaq.com\\shoppingPro\\shopping-react\\src\\components\\SignUpForm.js",["28"],"import React from \"react\";\r\nimport FlatButton from \"material-ui/FlatButton\";\r\nimport RaisedButton from \"material-ui/RaisedButton\";\r\nimport TextField from \"material-ui/TextField\";\r\n// import PasswordStr from \"./PasswordStr\";\r\n// import \"./style.css\";\r\n\r\nconst SignUpForm = ({\r\n    history,\r\n    onSubmit,\r\n    onChange,\r\n    errors,\r\n    user,\r\n    score,\r\n    btnTxt,\r\n    type,\r\n    pwMask,\r\n    onPwChange\r\n}) => {\r\n    return (\r\n        <div className=\"loginBox\">\r\n            <h1>Sign Up</h1>\r\n            {errors.message && <p style={{ color: \"red\" }}>{errors.message}</p>}\r\n\r\n            <form onSubmit={onSubmit}>\r\n                <TextField\r\n                    name=\"username\"\r\n                    floatingLabelText=\"user name\"\r\n                    value={user.username}\r\n                    onChange={onChange}\r\n                    errorText={errors.username}\r\n                />\r\n                <TextField\r\n                    name=\"email\"\r\n                    floatingLabelText=\"email\"\r\n                    value={user.email}\r\n                    onChange={onChange}\r\n                    errorText={errors.email}\r\n                />\r\n                <TextField\r\n                    type={type}\r\n                    name=\"password\"\r\n                    floatingLabelText=\"password\"\r\n                    value={user.password}\r\n                    onChange={onPwChange}\r\n                    errorText={errors.password}\r\n                />\r\n\r\n                <div className=\"pwStrRow\">\r\n                    {score >= 1 && (\r\n                        <div>\r\n                            <PasswordStr score={score} />\r\n                            <FlatButton\r\n                                className=\"pwShowHideBtn\"\r\n                                label={btnTxt} onClick={pwMask}\r\n                                style={{ position: 'relative', left: '50%', transform: 'translateX(-50%)' }}\r\n                            />\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <TextField\r\n                    type={type}\r\n                    name=\"pwconfirm\"\r\n                    floatingLabelText=\"confirm password\"\r\n                    value={user.pwconfirm}\r\n                    onChange={onChange}\r\n                    errorText={errors.pwconfirm}\r\n                />\r\n                <br />\r\n                <RaisedButton\r\n                    className=\"signUpSubmit\"\r\n                    primary={true}\r\n                    type=\"submit\"\r\n                    label=\"submit\"\r\n                />\r\n            </form>\r\n            <p>\r\n                Aleady have an account? <br />\r\n                <a href=\"/\">Log in here</a>\r\n            </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SignUpForm;\r\n",{"ruleId":"29","replacedBy":"30"},{"ruleId":"31","replacedBy":"32"},{"ruleId":"33","severity":2,"message":"34","line":5,"column":28,"nodeType":"35","messageId":"36","endLine":5,"endColumn":42},{"ruleId":"37","severity":2,"message":"38","line":52,"column":30,"nodeType":"39","endLine":52,"endColumn":41},"no-native-reassign",["40"],"no-negated-in-lhs",["41"],"no-undef","'FormValidators' is not defined.","Identifier","undef","react/jsx-no-undef","'PasswordStr' is not defined.","JSXIdentifier","no-global-assign","no-unsafe-negation"]